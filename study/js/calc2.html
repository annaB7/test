<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scable=0">
    <title>calculator</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/calc.compact.css">
</head>
<body>
    <div class="cont">
        <div class="calc">
            <div class="calc__moniter">
                <div class="calc__inner type-monitor">
                    <div class="calc__nums" id="monitor"></div>
                </div>
            </div>
            <div class="calc__wrap clb">
                <div class="calc__inbox type-keys fl">
                    <div class="calc-nums">
                        <ul class="calc-nums__list clb">
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="1">1</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="2">2</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="3">3</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="4">4</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="5">5</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="6">6</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="7">7</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="8">8</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="9">9</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="0">0</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="c">C</span>
                            </li>
                            <li class="calc-nums__item fl">
                                <span class="calc-nums__num js-btn" data="=">=</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="calc__inbox type-operator fr">
                    <ul class="calc-operator__list">
                        <li class="calc-operator__item js-btn" data="+">+</li>
                        <li class="calc-operator__item js-btn" data="-">-</li>
                        <li class="calc-operator__item js-btn" data="*">*</li>
                        <li class="calc-operator__item js-btn" data="/">/</li>
                    </ul>
                </div>
            </div>
        </div>
        <input type="text" class="calc__input" value="">
    </div>
    <script>
        const btn = document.getElementsByClassName('js-btn');
        const input = document.querySelector('.calc__input');
        const monitor = document.querySelector('#monitor');

        function btn_action(e){
            const this_value = e.target.getAttribute('data');
            let input_value = input.value;
            if(this_value == "="){//계산해라
                if(isNaN(input_value.charAt(input_value.length-1))){//인풋의 마지막이 연산자이면!
                    input_value = input_value.slice(0,-1)
                }
                const answer = eval(input_value);

                input.value = answer;
                monitor.innerText = answer;
            }else if(this_value == "c"){//초기화
                input.value = "";
                monitor.innerText = 0;
            }else{
                if(isNaN(input_value.charAt(input_value.length-1))){//인풋의 마지막이 연산자이면!
                    if(isNaN(parseInt(this_value))){
                        alert("연산자다음은 숫자를 입력해!")
                        return false;
                    }
                }
                if(isNaN(parseInt(this_value))){
                    monitor.innerText = this_value;
                }else{
                    monitor.innerText += this_value;
                }
                input.value += this_value;
            }
        }
        for(i=0;i<btn.length;i++){
            btn[i].addEventListener('click',btn_action);
        }

    </script>
</body>
</html>
